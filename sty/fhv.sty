%
% https://tex.stackexchange.com/questions/289734/special-package-combination-gives-no-room-for-new-write
\usepackage{morewrites}
\morewritessetup{allocate=10}
%
% we need this first
\usepackage{ifthen}
%
\ifthenelse{\equal{\FHVmode}{\presentations}}%
{
\usepackage{pgfpages}
\usepackage{makeidx}
\makeindex
\newenvironment{theindex}
{\let\item\par
	%definitions for subitem etc
}{}
\newcommand\indexspace{}
}%
{\usepackage{./sty/layout}}
\usepackage[T1]{fontenc}
%
%necessary if german language is selected
\usepackage[ngerman, english]{babel} %german hyphenation and headings
%
\ifthenelse{\equal{\FHVmode}{\presentations}}%
{}%
{\pagestyle{headings}}%
%
\RequirePackage{currfile}
%
\usepackage[linesnumbered,ruled,commentsnumbered,\newLanguage]{algorithm2e}
%
\usepackage{amsmath} % need for subequations
\usepackage{graphicx} % need for figures
\usepackage[space]{grffile} % expand  file name processing of graphics/x
\usepackage{calc}
%
\usepackage{subfiles}
\usepackage[utf8]{inputenc} % utf8 encoding (us this, if you have to switch between platforms)
\usepackage{array}
\usepackage{longtable}
%allow rotating
\usepackage{rotating}
%eps to pdf
\usepackage{epstopdf}
%floating figures
\usepackage{float}
\restylefloat{figure}
%minimal working example
\usepackage{mwe}
%loads also amsmath
\usepackage{mathtools}
%labels anzeigen
%\usepackage{showlabels}
 \usepackage{scrhack}
% for the appendix patch needed
\usepackage{appendix}
%eps to pdf automatic
\usepackage{epstopdf}
%
\usepackage{spreadtab}
%coloring and so on
%
\ifthenelse{\equal{\FHVmode}{\presentations}}%
{}%
{\usepackage[table,xcdraw,dvipsnames]{xcolor}}%
%set the quotes
\usepackage[autostyle=true,german=quotes]{csquotes}
%
% todonotes
\usepackage[\notesFHV]{todonotes} 
%
\usepackage{pgfgantt}
\usepackage[bottom,hang]{footmisc}
\setlength{\footnotemargin}{0pt} % Do not indent foot notes!
% table footnotes
%\usepackage{tablefootnote}
\usepackage{footnote}
\usepackage{threeparttable}

\usepackage[draft=false,kerning=true]{microtype}	
\usepackage{lscape} % landscape verwenden
% use other pdfs in this document
\usepackage{pdfpages}
% plots
\usepackage{pgfplots} 
\pgfplotsset{compat=1.13}

% center fuer zentrierung oder justification=RaggedRight, singlelinecheck=false fuer linksbuendig
\usepackage[center]{caption}
\usepackage{subcaption}
%
%\usepackage[ngerman]{babel} %german hyphenation and headings	
%
\usepackage[
\biblatexOptions
]{biblatex}
%\setlength\bibitemsep{1.5\itemsep}
\setlength\bibparsep{1.5\itemsep}
%\setlength\bibinitsep{1.5\itemsep}
\setlength\bibnamesep{1.5\itemsep}

\usepackage{adjustbox,lipsum}
\usepackage{multirow}
\usepackage{forloop}
% for lines in tables
\usepackage{hhline}
%
% set space between lines
%
\usepackage{setspace} % this package has to be loaded before hyperref!
%
% load as late as possible, otherwise the footnote will not work!
\usepackage{hyperxmp}
\usepackage[\newLanguage]{varioref}
\PassOptionsToPackage{hyphens,obeyspaces,spaces}{url}
\usepackage[breaklinks=true]{hyperref}
\usepackage{footnotebackref}
\usepackage{nameref}
\usepackage{etoolbox} % Paket unbekannter Funktion, ohne funktioniert aber das hinzufügen weiterer Umbruchstellen für das URL-Paket in der nächsten Zeile nicht!
{\setlength{\emergencystretch}{1em}%
\appto\UrlBreaks{\do\1\do\2\do\3\do\4\do\5\do\6\do\7\do\8\do\9}
%
\usepackage[nottoc]{tocbibind}  % no `Contents` in TOC
%
\usepackage{blindtext}
%
\usepackage[style=long,toc,acronym,automake]{glossaries} % need for table of contents, list of acronyms and glossary
%
\usepackage{multicol}
%
\usepackage{dirtree}
%
\usepackage{fp,siunitx} 
%
\usepackage{xspace}
%
\ifthenelse{\equal{\FHVmode}{\presentations}}%
{}%
{\usepackage{enumitem}}
%
\usepackage{latexsym}
%
\usepackage{dsfont}
%
\usepackage[\newLanguage,nameinlink,capitalize,noabbrev]{cleveref}
%
\addbibresource{./bib/Bibliography.bib}
%
% path for different platforms
\usepackage{ifplatform}
%
% use for \toprule \bottomrule \middlerule for tables
\usepackage{booktabs}
%
\usepackage{environ}
%
% searching for substrings
%
\usepackage{xstring}
%
\usepackage{./sty/Tikz}
\ifthenelse{\equal{\FHVmode}{\presentations}}{%
%	\usepackage{./sty/Presentation}
}{%
	\usepackage{./sty/Headers}%
	\usepackage{./sty/bibSettings}%
}
\usepackage{./sty/CommandsFHV}%

\usepackage{./sty/CommandsRoPa}
\usepackage{./sty/Listings}
\usepackage{./sty/Commands}
\usepackage{./sty/Paper}
\usepackage{./sty/Environments}
\if\presentations\FHVmode
	\usepackage{./sty/Presentation}
\else
%
% config as late as possible (https://golatex.de/algorithm2e-und-parindent-t13310.html)
% 
	\KOMAoptions{parskip=half-}
\fi
%
\ifthenelse{\equal{\debug}{true}}{
	\usepackage{pagegrid}
	\usepackage{showframe}
	\usepackage{layout}
% Display length in mm
	\makeatletter
		\renewcommand*{\lay@value}[2]{%
			\strip@pt\dimexpr0.351459\dimexpr\csname#2\endcsname\relax\relax mm%
		}
	\makeatother
}{}
%
\setlength{\extrarowheight}{3pt} % table space in front of line
\patchcmd{\bibsetup}{\interlinepenalty=5000}{\interlinepenalty=10000}{}{}
