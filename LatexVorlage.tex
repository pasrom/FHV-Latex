%
% 1: documentation, e.g.: a documentation for a project done in a course
% 2: thesis, e.g.: a master thesis
% 3: summary
% 5: presentation
% 9: paper
%
\ifx\FHVmode\undefined
	\def\FHVmode{2}
\fi
\newcommand{\version}{v0.0}
%
\pdfminorversion=6 %use newer pdf version
%
\input{./sty/overallDefines.sty}
%
\documentclass[
\documentclassOptions
]{\komaScriptClass}
%
\usepackage{./sty/fhv}
%
%Display length in mm
\makeatletter
\ifthenelse{\equal{\debug}{true}}{
	\renewcommand*{\lay@value}[2]{%
		\strip@pt\dimexpr0.351459\dimexpr\csname#2\endcsname\relax\relax mm%
	}
}{}
\makeatother
%
%
\makeglossaries
\renewcommand{\glsnamefont}[1]{\textbf{#1}}
%
% General Settings for Title...
%
\setLanguage{\newLanguage}
\setTitle{Title}
\setThesistype{Masterthesis}
\setAuthor{%
	\authorSurname \authorName\\%
}
\setAuthorId{MATRIKELNUMMER}
\setStudyprogram{Master Mechatronics}
\setSupervisor{\supervisorSurname \supervisorName}
\setSupervisorCompany{SupervisorCompanyName}
\setSubtitle{Subtitle}
\setSubject{Subject}
\setDegree{Master of Science}
\setCompany{Company Name GmbH}
%
\if\presentations\FHVmode
	\usepackage{./sty/Presentation}
\fi
%
%% PDF Settings
%
\hypersetup{
	pdftitle={\getTitle},
	pdfauthor={%
		\authorSurname\xmpcomma\ \authorName%
	},
	pdfsubject={},
	pdfkeywords={Fachhochschule Vorarlberg : Title : MEM : \supervisorSurname, \supervisorName},
	pdflang={de},
	unicode=true,
}
%
\if\presentations\FHVmode
\else
	\setkomafont{descriptionlabel}{\normalfont\bfseries} % for glossaries serif font
\fi
\allowdisplaybreaks
%
\begin{document}
	%
	% Import the acronyms
	%
	\input{./util/Acronym.tex} % provide the defined acronyms to be used
	%
	% for Backlinks to work properly
	%
	\subfile{./tex/Presentation.tex}
	%
	\begin{envModeNot}[\presentations]
		%
		\let\hypercontentsline=\contentsline
		\renewcommand{\contentsline}[4]{\hypertarget{toc.#4}{}\hypercontentsline{#1}{#2}{#3}{#4}}%
		%
		\sisetup{output-decimal-marker = {,}}
		\pagenumbering{gobble} % used to prevent the page numbering
		%
		\begin{envDebug}
			\layout
			\textrm{Serif: \rmdefault}\par
			\textsf{Sans-Serif: \sfdefault}\par
			\texttt{Teletype: \ttdefault}
		\end{envDebug}
		%
		\hypersetup{pageanchor=false}
		%
		\paperHeader
		%
		\begin{envModeMulticols}[\paper]
		%
			\begin{envModeNot}[\paper]
			%
			% evtl. Sperrvermerkseite
			% nur in begründeten Ausnahmefällen verwenden
			% Aufgrund gesetzlicher Bestimmungen ist eine Sperre maximal für fünf Jahre möglich
			%
			\sperrvermerk{Bachmann electronic GmbH}{5}
			%
			\maketitle % creates the title page
			%
			\restoregeometry
			%
			\hypersetup{pageanchor=true}
			\pagenumbering{Roman} 
			%
			% Abstracts
			\subfile{./tex/Dedication.tex}
			%
			\subfile{./tex/Widmung.tex}
			%
			\subfile{./tex/Kurzreferat.tex}
			\subfile{./tex/Abstract.tex}
			%
			\subfile{./tex/Preface_Acknowledgement.tex}
			\subfile{./tex/Vorwort.tex}
			\newpage
			%
			\fhvlists
			\end{envModeNot}
			%
			% INSERT your .tex files
			%
			%\subfile{./tex/Hauptteil.tex}
			%\subfile{./tex/xxx.tex}
			\subfile{./tex/Examples.tex}
			%
			% END
			%
			% The order of the chapters used
			% final generated information
			\glossaryAndBibliography
			%
		\end{envModeMulticols}
		%
		\subfile{./tex/Lebenslauf.tex}
		%
		\begin{envModeNot}[\paper]
			\newpage
			\appendix
			\addAppendix{
			%
			% INSERT your .tex files
			%
			\subfile{./tex/Anhang.tex}
			%
			% END
			%
			}
			% Statuory Declaration
			\statuoryDeclaration
			%
		\end{envModeNot}
	\end{envModeNot}
	%
\end{document}
